import{u as m,r as a,b as g,A as h,j as e,F as f,f as j}from"./index-DmGdaPst.js";const b=()=>{const r=m(),[n,i]=a.useState([]),[s,l]=a.useState(""),o=localStorage.getItem("user"),x=()=>{r("/newticket")};a.useEffect(()=>{d()},[]);const d=async()=>{try{const u=(await(await g.get(`${h}/api/getticketuserbyid?user=${o}`)).data.ticket).reverse();i(u)}catch(t){console.log(t)}},p=n.filter(t=>t.ticketId.toString().includes(s)||t.category.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"mx-4 my-6 font-poppins",children:[e.jsx("button",{className:"text-base bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] w-52 py-2.5 my-5",onClick:x,children:"Raise Ticket"}),e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-3",children:[e.jsx("p",{className:"text-lg font-extralight",children:"Your Support Tickets"}),e.jsxs("div",{className:"flex items-center gap-3 bg-white w-96 px-6 py-1.5 rounded-md mr-3",children:[e.jsx(f,{className:"text-black text-xl"}),e.jsx("input",{type:"text",placeholder:"Search By Date/Ticket #",className:"bg-transparent w-full outline-none text-center font-extralight text-black",value:s,onChange:t=>l(t.target.value)})]})]}),e.jsx("hr",{className:"my-2"}),p.map((t,c)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mx-2 flex-wrap",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("p",{children:["Ticket No: ",t.ticketId]}),e.jsxs("p",{children:["Category: ",t.category]}),e.jsxs("p",{children:["Date: ",j(t.createdAt)]}),e.jsxs("p",{children:["Status:"," ",e.jsx("span",{className:`px-3 rounded-md ${t.status==="New Ticket"?"bg-green-700":t.status==="In Progress"?"bg-yellow-500":t.status==="On Hold"?"bg-red-400":"bg-blue-400"}`,children:t.status})]})]}),e.jsx("div",{children:e.jsx("button",{className:"text-base bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] w-48 py-2 my-5",onClick:()=>r("/viewticket",{state:{ticketId:t.ticketId}}),children:"View Ticket"})})]}),e.jsx("hr",{className:"my-3 "})]},c))]})};export{b as default};
